---
paths:
  - '**/*.test.{ts,tsx}'
---

# ãƒ†ã‚¹ãƒˆç”Ÿæˆã®æŒ‡ç¤º

## Priority Markers

> å„ªå…ˆåº¦ã®å®šç¾©ã«ã¤ã„ã¦ã¯ [CLAUDE.md](../../CLAUDE.md#priority-markers) ã‚’å‚ç…§ã€‚

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Vitest
- **ãƒ¢ãƒƒã‚¯**: `vi.mock()` / `vi.fn()`
- **ç’°å¢ƒ**: jsdomï¼ˆDOM æ“ä½œç”¨ï¼‰

## å¿…é ˆå¯¾è±¡

- `export` ã•ã‚ŒãŸé–¢æ•°ãƒ»ã‚¯ãƒ©ã‚¹ãƒ»ãƒ¡ã‚½ãƒƒãƒ‰
- å…¬é–‹APIã¨ã—ã¦åˆ©ç”¨ã•ã‚Œã‚‹æ©Ÿèƒ½

## ðŸ”´ é…ç½®ãƒ«ãƒ¼ãƒ«ï¼ˆCRITICALï¼‰

ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¯å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®ã™ã‚‹ï¼ˆã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã€‚`__test__` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ä½¿ç”¨ã—ãªã„ã€‚

### æ­£ã—ã„é…ç½®ä¾‹

```
src/
  components/
    Button/
      Button.tsx
      Button.test.tsx       âœ… æ­£ã—ã„
```

### èª¤ã£ãŸé…ç½®ä¾‹

```
src/
  components/
    Button/
      Button.tsx
      __tests__/
        Button.test.tsx     âŒ ç¦æ­¢
```

### ä¾‹å¤–

çµ±åˆãƒ†ã‚¹ãƒˆã‚„E2Eãƒ†ã‚¹ãƒˆã¯ `tests/` ã‚„ `e2e/` ã«é…ç½®å¯èƒ½ã€‚

## å¿…é ˆãƒ«ãƒ¼ãƒ«

1. **ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™**: 80%ä»¥ä¸Šï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ«ãƒ¼ãƒ« `~/.claude/rules/testing.md` ã«æº–æ‹ ï¼‰
2. **ãƒ•ã‚¡ã‚¤ãƒ«å‘½å**: `src/utils/helper.ts` â†’ `src/utils/helper.test.ts`
3. **AAA ãƒ‘ã‚¿ãƒ¼ãƒ³**ã‚’å®ˆã‚‹
4. **ãƒ†ã‚¹ãƒˆåã¯æ—¥æœ¬èªž**ã§ã€Œã€œã®å ´åˆã€ã€œã‚’è¿”ã™ã€å½¢å¼
5. **å¤–éƒ¨ä¾å­˜ã¯å¿…ãšãƒ¢ãƒƒã‚¯**ã™ã‚‹

## ãƒ¢ãƒƒã‚¯å¯¾è±¡

- å¤–éƒ¨ API å‘¼ã³å‡ºã—
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚¢ã‚¯ã‚»ã‚¹
- æ™‚åˆ»ä¾å­˜ã®å‡¦ç†ï¼ˆ`vi.useFakeTimers` + `vi.setSystemTime`ï¼‰

## æœ€å°ä¾‹

```typescript
it('ç©ºæ–‡å­—åˆ—ã®å ´åˆã€nullã‚’è¿”ã™', () => {
  // Arrange
  const input = '';

  // Act
  const result = parseJson(input);

  // Assert
  expect(result).toBeNull();
});
```
