---
description: "PRタイトルと説明文の生成ルール"
agent: "agent"
---

# プルリクエスト生成の指示

プルリクエストのタイトルと説明を生成する際、以下の形式と内容に従ってください。良いPRの説明はレビュープロセスを加速し、変更の意図と影響を明確に伝えます。

## タイトル生成ルール

1. **文字数**: 50文字以内で簡潔に要約
2. **内容**: 何を変更したかを明確に表現
3. **言語**: 日本語で記述
4. **形式**: 動詞で開始（例：「追加」「修正」「更新」「削除」）

### 良いタイトル例

- 「記事関連度計算アルゴリズムのパフォーマンス改善」
- 「モバイル表示時のナビゲーションメニューの不具合を修正」
- 「記事検索機能を追加」

### 避けるべきタイトル例

- 「バグ修正」（具体性がない）
- 「細かな変更」（情報量が少ない）
- 「フロントエンド改善」（具体的な改善内容が伝わらない）

## 説明文の必須構成

### 1. 概要
変更の目的と背景を1-2文で説明します。「何を」と「なぜ」を明確にします。

### 2. 変更内容
- 箇条書きで具体的な変更点を列挙
- 各項目は動作や結果が分かるよう具体的に記述

### 3. 影響範囲
- 影響を受ける機能・ページ・コンポーネントを明記
- 破壊的変更がある場合は **重要** として明記
- 既存の動作やAPIに与える影響を明確に説明

### 4. テスト内容
- 動作確認した内容を記載
- 自動テストがある場合はその結果を記載
- スクリーンショットやデモがあれば追加
- 特定のエッジケースがテストされているか

### 5. 関連情報（該当する場合のみ）
- 関連Issue: `#123`
- 関連PR: `#456`
- 参考ドキュメント: リンク
- フォローアップが必要な場合は明記
- レビューワーに特に確認してほしい点を列挙

## 生成例

```markdown
タイトル: 記事類似度計算機能の性能改善

## 概要
TF-IDF計算処理の最適化により、記事類似度計算の処理時間を約50%短縮しました。大量の記事を処理する場合のビルド時間を短縮するための改善です。

## 変更内容
- 形態素解析結果のキャッシュ機能を追加 (`similarity/cache.ts`)
- 不要な再計算処理を削除 (`similarity/calculate.ts`)
- バッチ処理のワーカー数を最適化 (8→CPUコア数に合わせるように変更)
- 不要な中間ファイルの生成を抑制

## 影響範囲
- ビルド時の類似度計算処理 (処理時間が短縮)
- 記事詳細ページの関連記事表示 (表示内容は変更なし)

## テスト内容
- ローカル環境でのビルド時間計測 (変更前: 67秒 → 変更後: 32秒)
- 関連記事の表示内容が同一であることを確認
- 既存のユニットテスト全てパス
- 数千記事規模のデータセットでテスト済み

## 関連情報
- 関連Issue: #1234
- ベンチマーク結果: [Gistリンク]
- レビューポイント: ワーカー数の決定方法が適切か確認してください
```

## 評価基準

良いPR説明文は以下の条件を満たします：

- **REQUIRED**: 変更内容が具体的で明確
- **REQUIRED**: 変更の理由と目的が明記されている
- **REQUIRED**: 影響範囲が明確に記述されている
- **REQUIRED**: テスト内容が十分で具体的
- **REQUIRED**: レビューワーが注目すべき点が表記されている
